# ‡∏Ñ‡∏π‡πà‡∏°‡∏∑‡∏≠‡∏Å‡∏≤‡∏£‡πÄ‡∏ó‡∏™ Demo CRM LIFF

## üì± ‡∏ß‡∏¥‡∏ò‡∏µ‡πÄ‡∏ó‡∏™ LIFF App

### 1. ‡πÄ‡∏ó‡∏™‡πÉ‡∏ô LINE App (‡πÅ‡∏ô‡∏∞‡∏ô‡∏≥ - ‡πÄ‡∏ó‡∏™‡∏à‡∏£‡∏¥‡∏á)

**‡∏Ç‡∏±‡πâ‡∏ô‡∏ï‡∏≠‡∏ô:**
1. ‡πÄ‡∏õ‡∏¥‡∏î LINE app ‡∏ö‡∏ô‡∏°‡∏∑‡∏≠‡∏ñ‡∏∑‡∏≠
2. ‡πÑ‡∏õ‡∏ó‡∏µ‡πà **LINE Developers Console**: https://developers.line.biz/
3. ‡πÄ‡∏•‡∏∑‡∏≠‡∏Å Provider ‡πÅ‡∏•‡∏∞ Channel ‡∏Ç‡∏≠‡∏á‡∏Ñ‡∏∏‡∏ì
4. ‡πÑ‡∏õ‡∏ó‡∏µ‡πà‡πÅ‡∏ó‡πá‡∏ö **LIFF**
5. ‡∏ï‡∏£‡∏ß‡∏à‡∏™‡∏≠‡∏ö‡∏ß‡πà‡∏≤ **LIFF Endpoint URL** ‡∏ï‡∏±‡πâ‡∏á‡∏Ñ‡πà‡∏≤‡πÄ‡∏õ‡πá‡∏ô: `https://demo-crm-liff.vercel.app`
6. ‡πÄ‡∏õ‡∏¥‡∏î LIFF app ‡∏à‡∏≤‡∏Å:
   - ‡∏™‡πà‡∏á LIFF URL ‡πÑ‡∏õ‡πÉ‡∏´‡πâ‡∏ï‡∏±‡∏ß‡πÄ‡∏≠‡∏á‡πÉ‡∏ô LINE
   - ‡∏´‡∏£‡∏∑‡∏≠‡∏™‡πÅ‡∏Å‡∏ô QR Code ‡∏à‡∏≤‡∏Å LINE Developers Console
   - LIFF URL: `https://liff.line.me/2008777680-kyoJofMo`

**‡∏ü‡∏µ‡πÄ‡∏à‡∏≠‡∏£‡πå‡∏ó‡∏µ‡πà‡∏Ñ‡∏ß‡∏£‡πÄ‡∏ó‡∏™:**
- ‚úÖ ‡∏î‡∏π Dashboard (Overview)
- ‚úÖ ‡∏î‡∏π Point Balance
- ‚úÖ ‡∏î‡∏π Statistics (Earned/Redeemed)
- ‚úÖ **‡πÄ‡∏ï‡∏¥‡∏°‡πÄ‡∏á‡∏¥‡∏ô (Top Up Points)** - ‡∏Å‡∏î‡∏õ‡∏∏‡πà‡∏° "‡πÄ‡∏ï‡∏¥‡∏°‡πÄ‡∏á‡∏¥‡∏ô" ‡πÉ‡∏ô Quick Actions
- ‚úÖ ‡∏î‡∏π Products (‡∏Ç‡∏≠‡∏á‡∏£‡∏≤‡∏á‡∏ß‡∏±‡∏•)
- ‚úÖ **‡πÅ‡∏•‡∏Å‡∏£‡∏≤‡∏á‡∏ß‡∏±‡∏•** - ‡∏Å‡∏î‡∏õ‡∏∏‡πà‡∏° "‡πÅ‡∏•‡∏Å‡πÄ‡∏•‡∏¢" ‡∏ó‡∏µ‡πà‡∏™‡∏¥‡∏ô‡∏Ñ‡πâ‡∏≤
- ‚úÖ **‡∏î‡∏π QR Code ‡πÅ‡∏•‡∏∞ Countdown** - ‡∏´‡∏•‡∏±‡∏á‡πÅ‡∏•‡∏Å‡∏£‡∏≤‡∏á‡∏ß‡∏±‡∏•
- ‚úÖ ‡∏î‡∏π History (‡∏õ‡∏£‡∏∞‡∏ß‡∏±‡∏ï‡∏¥‡∏Å‡∏≤‡∏£‡∏ó‡∏≥‡∏£‡∏≤‡∏¢‡∏Å‡∏≤‡∏£)
- ‚úÖ Navigation ‡∏ú‡πà‡∏≤‡∏ô Bottom Nav (3 tabs)

---

### 2. ‡πÄ‡∏ó‡∏™‡πÉ‡∏ô Browser (‡∏à‡∏≥‡∏Å‡∏±‡∏î‡∏ö‡∏≤‡∏á‡∏ü‡∏µ‡πÄ‡∏à‡∏≠‡∏£‡πå)

**‡∏Ç‡πâ‡∏≠‡∏à‡∏≥‡∏Å‡∏±‡∏î:**
- ‚ùå LIFF API ‡πÑ‡∏°‡πà‡∏ó‡∏≥‡∏á‡∏≤‡∏ô (‡πÑ‡∏°‡πà‡∏™‡∏≤‡∏°‡∏≤‡∏£‡∏ñ‡∏î‡∏∂‡∏á LINE Profile ‡πÑ‡∏î‡πâ)
- ‚ö†Ô∏è ‡∏ï‡πâ‡∏≠‡∏á‡πÉ‡∏ä‡πâ Mock User ID
- ‚úÖ UI/UX ‡∏™‡∏≤‡∏°‡∏≤‡∏£‡∏ñ‡∏î‡∏π‡πÑ‡∏î‡πâ

**‡∏ß‡∏¥‡∏ò‡∏µ‡πÄ‡∏ó‡∏™:**
```bash
# 1. Clone ‡πÅ‡∏•‡∏∞ setup
cd DemoCRM_LIFF
npm install

# 2. ‡∏™‡∏£‡πâ‡∏≤‡∏á‡πÑ‡∏ü‡∏•‡πå .env
VITE_SUPABASE_URL=https://ooqvqbwewumvepdywkwe.supabase.co
VITE_SUPABASE_ANON_KEY=sb_publishable_DCTvzWNZqpnmjkH1zTkEBg_RGchboNW
VITE_LIFF_ID=2008777680-kyoJofMo

# 3. ‡∏£‡∏±‡∏ô dev server
npm run dev

# 4. ‡πÄ‡∏õ‡∏¥‡∏î browser: http://localhost:5173
```

**‡∏´‡∏°‡∏≤‡∏¢‡πÄ‡∏´‡∏ï‡∏∏:** ‡πÉ‡∏ô browser ‡∏à‡∏∞‡∏°‡∏µ error ‡πÄ‡∏£‡∏∑‡πà‡∏≠‡∏á LIFF initialization ‡πÅ‡∏ï‡πà UI ‡∏¢‡∏±‡∏á‡∏î‡∏π‡πÑ‡∏î‡πâ

---

## üñ•Ô∏è ‡∏ß‡∏¥‡∏ò‡∏µ‡πÄ‡∏ó‡∏™ CRM Admin Dashboard

**URL:** `https://crm-admin-dashboard-zeta.vercel.app`

**‡∏´‡∏£‡∏∑‡∏≠‡πÄ‡∏ó‡∏™ Local:**
```bash
cd admin
npm install

# ‡∏™‡∏£‡πâ‡∏≤‡∏á‡πÑ‡∏ü‡∏•‡πå .env
VITE_SUPABASE_URL=https://ooqvqbwewumvepdywkwe.supabase.co
VITE_SUPABASE_ANON_KEY=sb_publishable_DCTvzWNZqpnmjkH1zTkEBg_RGchboNW

npm run dev
# ‡πÄ‡∏õ‡∏¥‡∏î: http://localhost:3001
```

**‡∏ü‡∏µ‡πÄ‡∏à‡∏≠‡∏£‡πå‡∏ó‡∏µ‡πà‡∏Ñ‡∏ß‡∏£‡πÄ‡∏ó‡∏™:**
- ‚úÖ Dashboard - ‡∏î‡∏π‡∏™‡∏ñ‡∏¥‡∏ï‡∏¥‡∏£‡∏ß‡∏°
- ‚úÖ Members - ‡∏à‡∏±‡∏î‡∏Å‡∏≤‡∏£‡∏™‡∏°‡∏≤‡∏ä‡∏¥‡∏Å
- ‚úÖ Products - ‡∏™‡∏£‡πâ‡∏≤‡∏á/‡πÅ‡∏Å‡πâ‡πÑ‡∏Ç/‡∏•‡∏ö‡∏™‡∏¥‡∏ô‡∏Ñ‡πâ‡∏≤
- ‚úÖ Transactions - ‡∏î‡∏π‡∏õ‡∏£‡∏∞‡∏ß‡∏±‡∏ï‡∏¥‡∏Å‡∏≤‡∏£‡∏ó‡∏≥‡∏£‡∏≤‡∏¢‡∏Å‡∏≤‡∏£
- ‚úÖ QR Codes - ‡∏™‡∏£‡πâ‡∏≤‡∏á QR Code coupons

---

## ‚úÖ Checklist ‡∏Å‡∏≤‡∏£‡πÄ‡∏ó‡∏™

### üÜï ‡∏ü‡∏µ‡πÄ‡∏à‡∏≠‡∏£‡πå‡πÉ‡∏´‡∏°‡πà‡∏ó‡∏µ‡πà‡πÄ‡∏û‡∏¥‡πà‡∏°‡πÄ‡∏Ç‡πâ‡∏≤‡∏°‡∏≤

#### 1. Mock Payment System (‡πÄ‡∏ï‡∏¥‡∏°‡πÄ‡∏á‡∏¥‡∏ô)
- [ ] ‡∏Å‡∏î‡∏õ‡∏∏‡πà‡∏° "‡πÄ‡∏ï‡∏¥‡∏°‡πÄ‡∏á‡∏¥‡∏ô" ‡πÉ‡∏ô Overview tab
- [ ] Modal ‡πÅ‡∏™‡∏î‡∏á‡∏Ç‡∏∂‡πâ‡∏ô‡∏°‡∏≤‡∏ñ‡∏π‡∏Å‡∏ï‡πâ‡∏≠‡∏á
- [ ] ‡πÄ‡∏•‡∏∑‡∏≠‡∏Å‡∏à‡∏≥‡∏ô‡∏ß‡∏ô‡πÄ‡∏á‡∏¥‡∏ô (100, 200, 500, 1000, 2000, 5000 ‡∏ö‡∏≤‡∏ó)
- [ ] ‡∏´‡∏£‡∏∑‡∏≠‡∏Å‡∏£‡∏≠‡∏Å‡∏à‡∏≥‡∏ô‡∏ß‡∏ô‡πÄ‡∏á‡∏¥‡∏ô‡πÄ‡∏≠‡∏á
- [ ] ‡∏î‡∏π‡∏ß‡πà‡∏≤ Point ‡∏ó‡∏µ‡πà‡∏à‡∏∞‡πÑ‡∏î‡πâ‡∏£‡∏±‡∏ö = ‡∏à‡∏≥‡∏ô‡∏ß‡∏ô‡πÄ‡∏á‡∏¥‡∏ô (1 ‡∏ö‡∏≤‡∏ó = 1 Point)
- [ ] ‡∏Å‡∏î "‡∏¢‡∏∑‡∏ô‡∏¢‡∏±‡∏ô‡∏Å‡∏≤‡∏£‡πÄ‡∏ï‡∏¥‡∏°‡πÄ‡∏á‡∏¥‡∏ô"
- [ ] ‡∏ï‡∏£‡∏ß‡∏à‡∏™‡∏≠‡∏ö‡∏ß‡πà‡∏≤ Point ‡πÄ‡∏û‡∏¥‡πà‡∏°‡∏Ç‡∏∂‡πâ‡∏ô
- [ ] ‡∏ï‡∏£‡∏ß‡∏à‡∏™‡∏≠‡∏ö‡∏ß‡πà‡∏≤ Payment Transaction ‡∏ñ‡∏π‡∏Å‡∏ö‡∏±‡∏ô‡∏ó‡∏∂‡∏Å‡πÉ‡∏ô Database

#### 2. Product Redemption (QR Code + Countdown)
- [ ] ‡πÑ‡∏õ‡∏ó‡∏µ‡πà Products tab
- [ ] ‡πÄ‡∏•‡∏∑‡∏≠‡∏Å‡∏™‡∏¥‡∏ô‡∏Ñ‡πâ‡∏≤‡πÅ‡∏•‡∏∞‡∏Å‡∏î "‡πÅ‡∏•‡∏Å‡πÄ‡∏•‡∏¢"
- [ ] ‡∏´‡∏•‡∏±‡∏á‡∏à‡∏≤‡∏Å‡πÅ‡∏•‡∏Å‡∏™‡∏≥‡πÄ‡∏£‡πá‡∏à ‡∏´‡∏ô‡πâ‡∏≤ ProductRedemptionDetail ‡∏Ñ‡∏ß‡∏£‡πÅ‡∏™‡∏î‡∏á‡∏Ç‡∏∂‡πâ‡∏ô‡∏°‡∏≤
- [ ] ‡∏ï‡∏£‡∏ß‡∏à‡∏™‡∏≠‡∏ö QR Code ‡πÅ‡∏™‡∏î‡∏á‡∏ñ‡∏π‡∏Å‡∏ï‡πâ‡∏≠‡∏á
- [ ] ‡∏ï‡∏£‡∏ß‡∏à‡∏™‡∏≠‡∏ö Redemption Code ‡πÅ‡∏™‡∏î‡∏á (format: RED-XXXXXXXX)
- [ ] ‡∏ï‡∏£‡∏ß‡∏à‡∏™‡∏≠‡∏ö Countdown Timer ‡πÄ‡∏£‡∏¥‡πà‡∏°‡∏à‡∏≤‡∏Å 15:00 ‡∏ô‡∏≤‡∏ó‡∏µ
- [ ] ‡∏ï‡∏£‡∏ß‡∏à‡∏™‡∏≠‡∏ö Countdown Timer ‡∏ô‡∏±‡∏ö‡∏ñ‡∏≠‡∏¢‡∏´‡∏•‡∏±‡∏á‡∏ñ‡∏π‡∏Å‡∏ï‡πâ‡∏≠‡∏á
- [ ] ‡∏ï‡∏£‡∏ß‡∏à‡∏™‡∏≠‡∏ö Product Image/Name/Description ‡πÅ‡∏™‡∏î‡∏á‡∏ñ‡∏π‡∏Å‡∏ï‡πâ‡∏≠‡∏á
- [ ] ‡∏ó‡∏î‡∏™‡∏≠‡∏ö Copy Code (‡∏Å‡∏î‡∏õ‡∏∏‡πà‡∏°‡∏Ñ‡∏±‡∏î‡∏•‡∏≠‡∏Å)
- [ ] ‡∏´‡∏•‡∏±‡∏á‡∏à‡∏≤‡∏Å Countdown ‡∏´‡∏°‡∏î‡πÄ‡∏ß‡∏•‡∏≤ ‡∏ï‡∏£‡∏ß‡∏à‡∏™‡∏≠‡∏ö‡∏ß‡πà‡∏≤‡πÅ‡∏™‡∏î‡∏á "QR Code ‡∏´‡∏°‡∏î‡∏≠‡∏≤‡∏¢‡∏∏‡πÅ‡∏•‡πâ‡∏ß"

#### 3. UI/UX Updates
- [ ] ‡∏ï‡∏£‡∏ß‡∏à‡∏™‡∏≠‡∏ö‡∏ß‡πà‡∏≤‡πÑ‡∏°‡πà‡∏°‡∏µ Top Navigation Tabs ‡∏î‡πâ‡∏≤‡∏ô‡∏ö‡∏ô
- [ ] ‡∏ï‡∏£‡∏ß‡∏à‡∏™‡∏≠‡∏ö‡∏ß‡πà‡∏≤‡πÑ‡∏°‡πà‡∏°‡∏µ Language Toggle Button
- [ ] ‡∏ï‡∏£‡∏ß‡∏à‡∏™‡∏≠‡∏ö‡∏ß‡πà‡∏≤ Navigation ‡πÉ‡∏ä‡πâ Bottom Nav ‡πÄ‡∏ó‡πà‡∏≤‡∏ô‡∏±‡πâ‡∏ô
- [ ] ‡∏ï‡∏£‡∏ß‡∏à‡∏™‡∏≠‡∏ö‡∏ß‡πà‡∏≤ Bottom Nav ‡∏°‡∏µ 3 tabs: Overview, Products, History
- [ ] ‡∏ï‡∏£‡∏ß‡∏à‡∏™‡∏≠‡∏ö‡∏ß‡πà‡∏≤ UI ‡∏™‡∏ß‡∏¢‡∏á‡∏≤‡∏°‡πÅ‡∏•‡∏∞‡πÉ‡∏ä‡πâ‡∏á‡∏≤‡∏ô‡∏á‡πà‡∏≤‡∏¢

---

## üß™ Test Cases ‡∏ï‡∏≤‡∏° Scenario

### Scenario 1: User Journey - ‡πÉ‡∏´‡∏°‡πà‡∏°‡∏≤‡πÉ‡∏ä‡πâ‡∏£‡∏∞‡∏ö‡∏ö
1. ‡πÄ‡∏õ‡∏¥‡∏î LIFF app ‡∏Ñ‡∏£‡∏±‡πâ‡∏á‡πÅ‡∏£‡∏Å
2. ‡∏£‡∏∞‡∏ö‡∏ö‡∏™‡∏£‡πâ‡∏≤‡∏á User ‡πÉ‡∏´‡∏°‡πà‡∏≠‡∏±‡∏ï‡πÇ‡∏ô‡∏°‡∏±‡∏ï‡∏¥
3. Point Balance = 0
4. ‡∏ó‡∏î‡∏™‡∏≠‡∏ö‡πÄ‡∏ï‡∏¥‡∏°‡πÄ‡∏á‡∏¥‡∏ô 500 ‡∏ö‡∏≤‡∏ó
5. ‡∏ï‡∏£‡∏ß‡∏à‡∏™‡∏≠‡∏ö Point Balance = 500
6. ‡∏î‡∏π Products ‡∏ó‡∏µ‡πà‡∏°‡∏µ
7. ‡πÅ‡∏•‡∏Å‡∏£‡∏≤‡∏á‡∏ß‡∏±‡∏• (‡∏ñ‡πâ‡∏≤‡∏°‡∏µ Point ‡πÄ‡∏û‡∏µ‡∏¢‡∏á‡∏û‡∏≠)
8. ‡∏ï‡∏£‡∏ß‡∏à‡∏™‡∏≠‡∏ö QR Code ‡πÅ‡∏•‡∏∞ Countdown

### Scenario 2: User Journey - ‡πÉ‡∏ä‡πâ‡∏á‡∏≤‡∏ô‡∏õ‡∏Å‡∏ï‡∏¥
1. ‡πÄ‡∏õ‡∏¥‡∏î LIFF app
2. ‡∏î‡∏π Point Balance
3. ‡∏î‡∏π Statistics (Earned/Redeemed)
4. ‡∏î‡∏π Recent Activity
5. ‡πÑ‡∏õ‡∏ó‡∏µ‡πà Products tab
6. ‡πÅ‡∏•‡∏Å‡∏£‡∏≤‡∏á‡∏ß‡∏±‡∏•‡∏´‡∏•‡∏≤‡∏¢‡∏Ñ‡∏£‡∏±‡πâ‡∏á
7. ‡∏ï‡∏£‡∏ß‡∏à‡∏™‡∏≠‡∏ö‡∏ß‡πà‡∏≤ Stock ‡∏•‡∏î‡∏•‡∏á (‡∏ñ‡πâ‡∏≤‡∏™‡∏¥‡∏ô‡∏Ñ‡πâ‡∏≤‡∏°‡∏µ Stock)
8. ‡∏ï‡∏£‡∏ß‡∏à‡∏™‡∏≠‡∏ö‡∏ß‡πà‡∏≤ Point Balance ‡∏•‡∏î‡∏•‡∏á‡∏ï‡∏≤‡∏°

### Scenario 3: Error Cases
1. ‡∏•‡∏≠‡∏á‡πÅ‡∏•‡∏Å‡∏£‡∏≤‡∏á‡∏ß‡∏±‡∏•‡πÄ‡∏°‡∏∑‡πà‡∏≠ Point ‡πÑ‡∏°‡πà‡∏û‡∏≠ ‚Üí ‡∏Ñ‡∏ß‡∏£‡πÅ‡∏™‡∏î‡∏á "‡πÅ‡∏ï‡πâ‡∏°‡πÑ‡∏°‡πà‡∏û‡∏≠"
2. ‡∏•‡∏≠‡∏á‡πÅ‡∏•‡∏Å‡∏£‡∏≤‡∏á‡∏ß‡∏±‡∏•‡πÄ‡∏°‡∏∑‡πà‡∏≠‡∏™‡∏¥‡∏ô‡∏Ñ‡πâ‡∏≤‡∏´‡∏°‡∏î ‚Üí ‡∏Ñ‡∏ß‡∏£‡πÅ‡∏™‡∏î‡∏á "‡∏™‡∏¥‡∏ô‡∏Ñ‡πâ‡∏≤‡∏´‡∏°‡∏î"
3. ‡∏•‡∏≠‡∏á‡πÄ‡∏ï‡∏¥‡∏°‡πÄ‡∏á‡∏¥‡∏ô 0 ‡∏ö‡∏≤‡∏ó ‡∏´‡∏£‡∏∑‡∏≠‡∏à‡∏≥‡∏ô‡∏ß‡∏ô‡∏ï‡∏¥‡∏î‡∏•‡∏ö ‚Üí ‡∏Ñ‡∏ß‡∏£‡πÑ‡∏°‡πà‡∏≠‡∏ô‡∏∏‡∏ç‡∏≤‡∏ï
4. ‡∏•‡∏≠‡∏á‡∏Å‡∏î‡∏õ‡∏∏‡πà‡∏°‡∏´‡∏•‡∏≤‡∏¢‡∏Ñ‡∏£‡∏±‡πâ‡∏á‡πÄ‡∏£‡πá‡∏ß‡πÜ ‚Üí ‡∏Ñ‡∏ß‡∏£‡∏õ‡πâ‡∏≠‡∏á‡∏Å‡∏±‡∏ô Double Submit

---

## üîç Debug ‡πÅ‡∏•‡∏∞ Troubleshooting

### ‡∏ñ‡πâ‡∏≤ LIFF App ‡πÑ‡∏°‡πà‡∏ó‡∏≥‡∏á‡∏≤‡∏ô
1. ‡∏ï‡∏£‡∏ß‡∏à‡∏™‡∏≠‡∏ö Environment Variables ‡πÉ‡∏ô Vercel:
   - `VITE_SUPABASE_URL`
   - `VITE_SUPABASE_ANON_KEY`
   - `VITE_LIFF_ID`

2. ‡∏ï‡∏£‡∏ß‡∏à‡∏™‡∏≠‡∏ö LIFF Endpoint URL ‡πÉ‡∏ô LINE Developers:
   - ‡∏Ñ‡∏ß‡∏£‡πÄ‡∏õ‡πá‡∏ô: `https://demo-crm-liff.vercel.app`
   - ‡∏ï‡πâ‡∏≠‡∏á‡πÑ‡∏°‡πà‡∏°‡∏µ trailing slash

3. ‡∏î‡∏π Console Log:
   - ‡πÄ‡∏õ‡∏¥‡∏î LINE Developer Tools
   - ‡∏´‡∏£‡∏∑‡∏≠‡∏î‡∏π‡πÉ‡∏ô Vercel Logs

### ‡∏ñ‡πâ‡∏≤‡πÅ‡∏•‡∏Å‡∏£‡∏≤‡∏á‡∏ß‡∏±‡∏•‡πÑ‡∏°‡πà‡πÑ‡∏î‡πâ
1. ‡∏ï‡∏£‡∏ß‡∏à‡∏™‡∏≠‡∏ö‡∏ß‡πà‡∏≤ Migration ‡∏£‡∏±‡∏ô‡πÅ‡∏•‡πâ‡∏ß:
   - `003_add_payments.sql`
   - `004_add_redemption_codes.sql`

2. ‡∏ï‡∏£‡∏ß‡∏à‡∏™‡∏≠‡∏ö Database:
   ```sql
   -- ‡∏ï‡∏£‡∏ß‡∏à‡∏™‡∏≠‡∏ö‡∏ß‡πà‡∏≤ function ‡∏°‡∏µ‡∏≠‡∏¢‡∏π‡πà
   SELECT proname, pg_get_function_result(oid) 
   FROM pg_proc 
   WHERE proname = 'redeem_product';
   
   -- ‡∏ï‡∏£‡∏ß‡∏à‡∏™‡∏≠‡∏ö‡∏ß‡πà‡∏≤ columns ‡∏°‡∏µ‡∏≠‡∏¢‡∏π‡πà
   SELECT column_name 
   FROM information_schema.columns 
   WHERE table_name = 'product_redemptions' 
     AND column_name IN ('redemption_code', 'expires_at');
   ```

3. ‡∏î‡∏π Browser Console ‡∏™‡∏≥‡∏´‡∏£‡∏±‡∏ö Error Messages

### ‡∏ñ‡πâ‡∏≤ QR Code ‡πÑ‡∏°‡πà‡πÅ‡∏™‡∏î‡∏á
1. ‡∏ï‡∏£‡∏ß‡∏à‡∏™‡∏≠‡∏ö‡∏ß‡πà‡∏≤ Migration 004 ‡∏£‡∏±‡∏ô‡πÅ‡∏•‡πâ‡∏ß
2. ‡∏ï‡∏£‡∏ß‡∏à‡∏™‡∏≠‡∏ö‡∏ß‡πà‡∏≤ `redemption_code` ‡∏ñ‡∏π‡∏Å‡∏™‡∏£‡πâ‡∏≤‡∏á‡πÉ‡∏ô Database
3. ‡∏ï‡∏£‡∏ß‡∏à‡∏™‡∏≠‡∏ö Browser Console ‡∏™‡∏≥‡∏´‡∏£‡∏±‡∏ö Error

---

## üìä Database Queries ‡∏™‡∏≥‡∏´‡∏£‡∏±‡∏ö‡∏ï‡∏£‡∏ß‡∏à‡∏™‡∏≠‡∏ö

### ‡∏ï‡∏£‡∏ß‡∏à‡∏™‡∏≠‡∏ö Payment Transactions
```sql
SELECT * FROM payment_transactions 
ORDER BY created_at DESC 
LIMIT 10;
```

### ‡∏ï‡∏£‡∏ß‡∏à‡∏™‡∏≠‡∏ö Product Redemptions
```sql
SELECT 
  pr.id,
  pr.redemption_code,
  pr.expires_at,
  pr.created_at,
  p.name as product_name,
  tm.display_name as user_name
FROM product_redemptions pr
JOIN products p ON pr.product_id = p.id
JOIN tour_members tm ON pr.line_user_id = tm.line_user_id
ORDER BY pr.created_at DESC
LIMIT 10;
```

### ‡∏ï‡∏£‡∏ß‡∏à‡∏™‡∏≠‡∏ö User Points
```sql
SELECT 
  line_user_id,
  display_name,
  points_balance,
  updated_at
FROM tour_members
ORDER BY updated_at DESC;
```

---

## üöÄ Quick Test Commands

```bash
# ‡∏£‡∏±‡∏ô LIFF App Local
npm run dev

# ‡∏£‡∏±‡∏ô Admin Dashboard Local
cd admin && npm run dev

# Build ‡πÅ‡∏•‡∏∞‡∏ï‡∏£‡∏ß‡∏à‡∏™‡∏≠‡∏ö
npm run build

# Deploy
vercel --prod
```

---

## üìù Notes

- **Migration ‡∏™‡∏≥‡∏Ñ‡∏±‡∏ç‡∏°‡∏≤‡∏Å**: ‡∏ï‡πâ‡∏≠‡∏á‡∏£‡∏±‡∏ô migrations ‡∏Å‡πà‡∏≠‡∏ô‡πÄ‡∏û‡∏∑‡πà‡∏≠‡πÉ‡∏´‡πâ‡∏ü‡∏µ‡πÄ‡∏à‡∏≠‡∏£‡πå‡πÉ‡∏´‡∏°‡πà‡∏ó‡∏≥‡∏á‡∏≤‡∏ô
- **LIFF ‡∏ï‡πâ‡∏≠‡∏á‡πÉ‡∏ä‡πâ LINE App**: ‡πÑ‡∏°‡πà‡∏™‡∏≤‡∏°‡∏≤‡∏£‡∏ñ‡πÄ‡∏ó‡∏™‡∏ü‡∏µ‡πÄ‡∏à‡∏≠‡∏£‡πå‡∏´‡∏•‡∏±‡∏Å‡πÉ‡∏ô Browser ‡∏ò‡∏£‡∏£‡∏°‡∏î‡∏≤‡πÑ‡∏î‡πâ
- **Mock Payment**: ‡∏Å‡∏≤‡∏£‡πÄ‡∏ï‡∏¥‡∏°‡πÄ‡∏á‡∏¥‡∏ô‡πÄ‡∏õ‡πá‡∏ô‡πÅ‡∏ö‡∏ö Mock ‡πÑ‡∏°‡πà‡πÑ‡∏î‡πâ‡πÉ‡∏ä‡πâ Payment Gateway ‡∏à‡∏£‡∏¥‡∏á
- **QR Code Expiry**: QR Code ‡∏´‡∏°‡∏î‡∏≠‡∏≤‡∏¢‡∏∏‡∏´‡∏•‡∏±‡∏á 15 ‡∏ô‡∏≤‡∏ó‡∏µ

